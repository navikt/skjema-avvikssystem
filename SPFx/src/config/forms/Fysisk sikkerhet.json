{
    "title": "Fysisk sikkerhet",
    "conditionalOptions": {
        "Brudd på lov, forskrifter og rutiner": [
            "Brudd på minimumsstandarden med krav til fysisk utforming og sikring av NAV-kontor",
            "Øvrige"
        ]
    },
    "description": {
        "type": "html",
        "content": "<div style='padding: 5px 10px'> <h3 style='margin-left: 15px'>Kategorier</h3> <ul> <li>Ulåste dører/vinduer</li> <li>Bruker i skjermede områder</li> <li>Mangler på bygg og utstyr</li> <li>Brann, branntilløp og brannforebygging</li> <li>Hærverk</li> <li>Innbrudd</li> <li>Strømbrudd</li> <li>Vannskade</li> <li>Ytre miljø/forurensing</li> <li>Brudd på lov, forskrifter og rutiner</li> <li>Andre uønskede hendelser</li> </ul> </div>"
    },
    "pages": [
        {
            "key": 1,
            "type": "Input",
            "title": "Velg kategori",
            "fields": [
                {
                    "key": "category",
                    "type": "ChoiceGroup",
                    "options": [
                        "Ulåste dører/vinduer",
                        "Bruker i skjermede områder",
                        "Mangler på bygg og utstyr",
                        "Brann, branntilløp og brannforebygging",
                        "Hærverk",
                        "Innbrudd",
                        "Strømbrudd",
                        "Vannskade",
                        "Ytre miljø/forurensing",
                        "Brudd på lov, forskrifter og rutiner",
                        "Andre uønskede hendelser"
                    ],
                    "required": "true"
                }
            ],
            "actions": [
                {
                    "key": "previous",
                    "label": "Tilbake",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronLeft"
                    },
                    "invoke": {
                        "functionName": "ToFormSelection"
                    }
                },
                {
                    "key": "next",
                    "label": "Neste",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronRight"
                    },
                    "iconPosition": "right",
                    "disabled": "!state.values.category",
                    "invoke": {
                        "functionName": "NextPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    },
                    "addtobreadcrumbs": "state.values.category"
                }
            ]
        },
        {
            "key": 2,
            "type": "Input",
            "title": "Velg underkategori",
            "fields": [
                {
                    "key": "categoryDetails",
                    "type": "ChoiceGroup",
                    "options": "form.conditionalOptions[state.values.category]",
                    "required": "form.conditionalOptions[state.values.category]",
                    "hidden": "!(form.conditionalOptions[state.values.category])"
                }
            ],
            "actions": [
                {
                    "key": "previous",
                    "label": "Tilbake",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronLeft"
                    },
                    "invoke": {
                        "functionName": "PreviousPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    },
                    "removefrombreadcrumbs": "true"
                },
                {
                    "key": "next",
                    "label": "Neste",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronRight"
                    },
                    "iconPosition": "right",
                    "disabled": "!state.values.categoryDetails",
                    "invoke": {
                        "functionName": "NextPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    },
                    "addtobreadcrumbs": "state.values.categoryDetails"
                }
            ]
        },
        {
            "key": 3,
            "type": "Input",
            "fields": [
                {
                    "key": "unit",
                    "label": "Hvilken enhet gjelder hendelsen?",
                    "type": "ChoiceGroup",
                    "options": [
                        "Min enhet",
                        "Annen enhet"
                    ],
                    "required": "true",
                    "defaultValue": "Min enhet",
                    "disabledOptions": [
                        "Annen enhet"
                    ],
                    "additionalData": [
                        {
                            "key": "Min enhet",
                            "value": "context.unit"
                        }
                    ]
                },
                {
                    "key": "unitOther",
                    "label": "Hvis annen enhet: Velg enhet",
                    "type": "Choice",
                    "options": [
                        "Enhet 1",
                        "Enhet 2"
                    ],
                    "hidden": "!(state.values.unit === 'Annen enhet')",
                    "required": "state.values.unit === 'Annen enhet'"
                },
                {
                    "key": "timeOfIncident",
                    "label": "Når skjedde hendelsen?",
                    "type": "Date",
                    "required": "true"
                },
                {
                    "key": "timeOfDiscovery",
                    "label": "Når ble hendelsen oppdaget?",
                    "type": "Date",
                    "required": "true"
                },
                {
                    "key": "incidentDescription",
                    "label": "Hva har skjedd? Beskriv hendelsen, mulig årsak og eventuelle konsekvenser",
                    "type": "Text",
                    "multiline": "true",
                    "required": "true"
                },
                {
                    "key": "imediateMeasuresDescription",
                    "label": "Beskriv eventuelle iverksatte strakstiltak:",
                    "type": "Text",
                    "multiline": "true"
                },
                {
                    "key": "measureSuggestionsDescription",
                    "label": "Har du forslag til tiltak for å unngå at noe slikt skjer igjen?",
                    "type": "Text",
                    "multiline": "true",
                    "required": "true"
                },
                {
                    "key": "notifiedOfIncident",
                    "label": "Har du varslet noen andre om denne hendelsen?",
                    "type": "Choice",
                    "multiselect": "true",
                    "options": [
                        "Leder",
                        "AMK",
                        "Politi",
                        "Brannvesen",
                        "Verneombud",
                        "Kommunikasjonsansvarlige",
                        "Andre virksomheter i bygget",
                        "Andre offentlige samarbeidspartnere",
                        "Ingen",
                        "Annet"
                    ],
                    "required": "true"
                },
                {
                    "key": "othersNotifiedDescription",
                    "label": "Du valgte \"annet\". Vennligst spesifiser:",
                    "type": "Text",
                    "multiline": "true",
                    "hidden": "!(state.values.notifiedOfIncident === 'Annet')",
                    "required": "state.values.notifiedOfIncident === 'Annet'"
                }
            ],
            "actions": [
                {
                    "key": "previous",
                    "label": "Tilbake",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronLeft"
                    },
                    "invoke": {
                        "functionName": "PreviousPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    },
                    "removefrombreadcrumbs": "true"
                },
                {
                    "key": "next",
                    "label": "Neste",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronRight"
                    },
                    "iconPosition": "right",
                    "disabled": "!state.valid || !context.unit",
                    "invoke": {
                        "functionName": "NextPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    }
                }
            ]
        },
        {
            "key": 4,
            "title": "Verifiser opplysningene som er registrert",
            "type": "Summary",
            "values": "state.values",
            "actions": [
                {
                    "key": "previous",
                    "label": "Tilbake",
                    "type": "default",
                    "iconProps": {
                        "iconName": "ChevronLeft"
                    },
                    "invoke": {
                        "functionName": "PreviousPage",
                        "params": {
                            "state_pageNumber": "currentPageNumber",
                            "setstate": "currentPageNumber"
                        }
                    }
                },
                {
                    "key": "submit",
                    "label": "Send inn",
                    "type": "primary",
                    "disabled": "!state.summaryConfirmed",
                    "invoke": {
                        "functionName": "Submit",
                        "params": {
                            "state_values": "values",
                            "context_formSubmitURL": "formSubmitURL",
                            "setstate": "submitting",
                            "resultVariable": "submitResult"
                        }
                    }
                }
            ]
        }
    ]
}